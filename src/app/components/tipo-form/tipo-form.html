<div class="form-container">
  <h2>{{ esEdicion ? 'Editar Tipo' : 'Nuevo Tipo' }}</h2>
  
  <div *ngIf="mensajeError" class="alert-error">
    {{ mensajeError }}
  </div>

  <form (ngSubmit)="guardarTipo()" #tipoForm="ngForm">
    
    <div class="form-group">
      <label for="name">Nombre*:</label>
      <input type="text" id="name" name="name" 
             [(ngModel)]="tipo.name" required minlength="3"
             #nameField="ngModel"
             [class.is-invalid]="nameField.invalid && (nameField.dirty || nameField.touched)">
      
      <div *ngIf="nameField.invalid && (nameField.dirty || nameField.touched)" class="error-msg">
        <small *ngIf="nameField.errors?.['required']">El nombre es obligatorio.</small>
        <small *ngIf="nameField.errors?.['minlength']">Debe tener al menos 3 caracteres.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="desc">Descripci√≥n:</label>
      <input type="text" id="desc" name="description" [(ngModel)]="tipo.description">
    </div>

    <button type="submit" [disabled]="!tipoForm.form.valid">Guardar</button>
    <a routerLink="/tipos" class="btn-cancel">Cancelar</a>
  </form>
</div>
